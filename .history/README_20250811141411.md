# QProcess - Dual Mode OCR System

## ğŸ¯ Tá»•ng quan

QProcess lÃ  há»‡ thá»‘ng OCR há»— trá»£ **2 modes** xá»­ lÃ½:
- **Mode 1**: Vertex AI OCR (Google Gemini 2.5-pro)
- **Mode 2**: Mathpix API OCR

## ğŸš€ TÃ­nh nÄƒng

### Mode 1: Vertex AI (Gemini)
- **âœ¨ Æ¯u Ä‘iá»ƒm**: Hiá»ƒu ngá»¯ cáº£nh sÃ¢u, xá»­ lÃ½ Ä‘á» thi chuyÃªn sÃ¢u
- **ğŸ¯ PhÃ¹ há»£p**: Äá» thi phá»©c táº¡p, ná»™i dung há»c thuáº­t
- **ğŸ”§ TÃ¹y chá»n**: Prompt engineering chi tiáº¿t cho Ä‘á» thi

### Mode 2: Mathpix API  
- **âœ¨ Æ¯u Ä‘iá»ƒm**: ChuyÃªn sÃ¢u LaTeX, cÃ´ng thá»©c toÃ¡n há»c
- **ğŸ¯ PhÃ¹ há»£p**: TÃ i liá»‡u toÃ¡n há»c, cÃ´ng thá»©c phá»©c táº¡p
- **ğŸ”§ TÃ¹y chá»n**: Tá»‘i Æ°u cho math content

## ğŸ“ Cáº¥u trÃºc Project

```
QProcess/
â”œâ”€â”€ main.py                    # File chÃ­nh - chá»n mode
â”œâ”€â”€ test_mathpix_mode.py       # Test riÃªng Mode 2
â”œâ”€â”€ test_mathpix_image.py      # Test API Mathpix
â”œâ”€â”€ config/
â”‚   â”œâ”€â”€ app_config.py          # Cáº¥u hÃ¬nh tá»•ng
â”‚   â”œâ”€â”€ vertex_ai_config.py    # Cáº¥u hÃ¬nh Vertex AI
â”‚   â”œâ”€â”€ mathpix_config.py      # Cáº¥u hÃ¬nh Mathpix
â”‚   â””â”€â”€ mathpix_docs.txt       # Documentation
â”œâ”€â”€ processors/
â”‚   â””â”€â”€ exam_processor.py      # Xá»­ lÃ½ template lá»i giáº£i
â””â”€â”€ data/
    â”œâ”€â”€ input/                 # áº¢nh input
    â””â”€â”€ output/                # Káº¿t quáº£ .md
```

## âš™ï¸ Cáº¥u hÃ¬nh Environment

Táº¡o file `.env` vá»›i ná»™i dung:

```env
# Vertex AI (Mode 1)
PROJECT_ID=your-google-project-id
TYPE=service_account
PRIVATE_KEY_ID=your-private-key-id
PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\n...\n-----END PRIVATE KEY-----\n"
CLIENT_EMAIL=your-service-account@project.iam.gserviceaccount.com
CLIENT_ID=your-client-id
AUTH_URI=https://accounts.google.com/o/oauth2/auth
TOKEN_URI=https://oauth2.googleapis.com/token
AUTH_PROVIDER_X509_CERT_URL=https://www.googleapis.com/oauth2/v1/certs
CLIENT_X509_CERT_URL=your-cert-url

# Mathpix API (Mode 2)
MATHPIX_APP_ID=your-mathpix-app-id
MATHPIX_APP_KEY=your-mathpix-app-key
```

## ğŸ”§ CÃ¡ch sá»­ dá»¥ng

### 1. Cháº¡y chÆ°Æ¡ng trÃ¬nh chÃ­nh
```bash
python main.py
```

Chá»n mode:
- `1`: Vertex AI OCR
- `2`: Mathpix API OCR  
- `0`: ThoÃ¡t

### âš¡ Multiprocessing
- Xá»­ lÃ½ nhiá»u áº£nh Ä‘á»“ng thá»i
- Tá»± Ä‘á»™ng phÃ¡t hiá»‡n sá»‘ CPU cores
- Progress tracking real-time

### ğŸ”„ Error Handling
- Retry logic vá»›i exponential backoff
- Graceful degradation
- Chi tiáº¿t error reporting

### ğŸ¯ Smart Detection
- BÃ´i Ä‘áº­m tiÃªu Ä‘á» vÃ  cÃ¢u há»i
- Xá»­ lÃ½ LaTeX math

